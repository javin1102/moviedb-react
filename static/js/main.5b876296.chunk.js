(this.webpackJsonpmoviedb=this.webpackJsonpmoviedb||[]).push([[0],{11:function(e,t,a){e.exports={container:"FavouriteCard_container__3Ren8",card:"FavouriteCard_card__225n9",title:"FavouriteCard_title__taH6I",favourite:"FavouriteCard_favourite__2o6H8",isFavourite:"FavouriteCard_isFavourite__2h8FW",notFavourite:"FavouriteCard_notFavourite__Eit6Q"}},13:function(e,t,a){e.exports={container:"Card_container__3RY3Y",card:"Card_card__3oMme",extra:"Card_extra__20tXI",favourite:"Card_favourite__3ipeF",details:"Card_details__1Gy88",favouriteActive:"Card_favouriteActive__1Br3x"}},35:function(e,t,a){e.exports={container:"FavouritePage_container__cGBIu"}},36:function(e,t,a){e.exports={container:"TopRated_container__2GZz9"}},41:function(e,t,a){},42:function(e,t,a){},48:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(12),c=a.n(i),o=(a(41),a(17)),s=a(3),l=(a(42),a(1)),u=function(){return Object(l.jsxs)("nav",{children:[Object(l.jsx)(o.b,{to:"/",children:"Nobar"}),Object(l.jsx)("ul",{children:Object(l.jsx)(o.b,{to:"/favourite",children:"Favourite"})})]})},d=a(9),v=a(10),j=a(11),b=a.n(j),f=a.p+"static/media/sprite.082130c3.svg",g=a(23),O=Object(g.b)({name:"favourite",initialState:{favouriteMovies:[],totalFavourite:0},reducers:{toggleFavouriteMovie:function(e,t){var a=t.payload;e.favouriteMovies.find((function(e){return e.id===a.id}))?e.favouriteMovies=e.favouriteMovies.filter((function(e){return e.id!==a.id})):e.favouriteMovies.push(a)}}}),p=O.actions,h=O,m=function(e){var t=Object(r.useState)(!0),a=Object(v.a)(t,2),n=a[0],i=a[1],c=Object(d.b)(),o=f+"#icon-heart",s=e.movieData,u={imageUrl:"https://image.tmdb.org/t/p/original"+s.imageUrl,title:s.title,overview:s.overview,average:s.average,averageCount:s.averageCount,release:s.release,genre:s.genre,id:s.id},j=n?"".concat(b.a.favourite," ").concat(b.a.isFavourite):"".concat(b.a.favourite," ").concat(b.a.notFavourite);return Object(l.jsxs)("div",{className:b.a.container,children:[Object(l.jsxs)("div",{className:b.a.card,children:[Object(l.jsx)("img",{src:s.imageUrl,alt:"MovieImage"}),Object(l.jsx)("svg",{className:j,onClick:function(){i(!n),c(p.toggleFavouriteMovie(u))},children:Object(l.jsx)("use",{xlinkHref:o})})]}),Object(l.jsx)("p",{className:b.a.title,children:s.title})]})},x=a(35),_=a.n(x),C=function(){var e=Object(d.c)((function(e){return e.favourite.favouriteMovies}));return Object(l.jsxs)(r.Fragment,{children:[Object(l.jsx)(u,{}),Object(l.jsxs)("div",{className:_.a.container,children:[console.log(e),e.map((function(e,t){return Object(l.jsx)(m,{movieData:e},e.id)}))]})]})},k=a(15),M=(a(48),a(22)),w=a.n(M),F=a(19),N=a.n(F),y=a(30),S=a(31),D=function(){var e=Object(r.useState)([]),t=Object(v.a)(e,2),a=t[0],n=t[1];return{movieList:a,sendRequest:Object(r.useCallback)(function(){var e=Object(S.a)(N.a.mark((function e(t){var a,r,i,c,o,s,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if((a=e.sent).ok){e.next=6;break}throw new Error("Request failed!");case 6:return e.next=8,a.json();case 8:r=e.sent,i=r.results,c=[],o=Object(y.a)(i);try{for(o.s();!(s=o.n()).done;)l=s.value,c.push(l)}catch(u){o.e(u)}finally{o.f()}n(c),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),[])}},U=(a(33),a(34),function(){var e=D(),t=e.movieList,a=e.sendRequest;return Object(r.useEffect)((function(){a("https://api.themoviedb.org/3/movie/popular?api_key=26e53c79e6035b58b0922736b9a96231&language=en-US&page=1")}),[a]),Object(l.jsx)("header",{children:!!t&&Object(l.jsx)(w.a,Object(k.a)(Object(k.a)({},{dots:!0,infinite:!0,speed:700,slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,className:"slider",autoplay:!0,autoplaySpeed:4e3}),{},{children:t.map((function(e,t){return t>=6||null===e.backdrop_path?"":Object(l.jsx)("div",{children:Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.backdrop_path,alt:"PopularMovieImage"})},t)}))}))})}),R=a(13),T=a.n(R),E=n.a.createContext({isOpen:!1,imageUrl:"",title:"",overview:"",average:0,averageCount:0,release:0,genre:[],id:0,openModalHandler:function(){},closeModalHandler:function(){}}),L=function(e){var t=Object(r.useState)(!1),a=Object(v.a)(t,2),n=a[0],i=a[1],c="https://image.tmdb.org/t/p/original",o=e.movieData,s=c+o.poster_path,u=f+"#icon-menu",j=f+"#icon-heart",b=Object(r.useContext)(E),g=Object(d.b)(),O=Object(d.c)((function(e){return e.favourite.favouriteMovies})),h={imageUrl:c+o.poster_path,title:o.title,overview:o.overview,average:o.vote_average,averageCount:o.vote_count,release:o.release_date,genre:o.genre_ids,id:o.id};Object(r.useEffect)((function(){var e=O.find((function(e){return e.id===o.id}));i(!!e)}),[O,o]);var m="".concat(n?T.a.favouriteActive:T.a.favourite);return Object(l.jsxs)("div",{className:T.a.container,children:[Object(l.jsxs)("div",{className:T.a.card,children:[Object(l.jsx)("img",{src:s,alt:"Card Image"}),Object(l.jsxs)("div",{className:T.a.extra,children:[Object(l.jsx)("svg",{className:T.a.details,onClick:function(){b.openModalHandler(h)},children:Object(l.jsx)("use",{xlinkHref:u})}),Object(l.jsx)("svg",{className:m,onClick:function(){i(!n),g(p.toggleFavouriteMovie(h))},children:Object(l.jsx)("use",{xlinkHref:j})})]})]}),Object(l.jsx)("p",{children:o.title})]})},H=n.a.memo(L),I=(a(65),function(e){return Object(l.jsx)(r.Fragment,{children:Object(l.jsx)(w.a,Object(k.a)(Object(k.a)({},{dots:!0,infinite:!1,speed:500,slidesToShow:6,slidesToScroll:6,arrows:!0,className:"card-slider",responsive:[{breakpoint:800,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:450,settings:{slidesToShow:3,slidesToScroll:3}}]}),{},{children:e.movieList.map((function(e,t){return Object(l.jsx)("div",{children:Object(l.jsx)(H,{movieData:e},e.id)},e.id)}))}))})}),P=a(36),A=a.n(P),q=function(){var e=D(),t=e.sendRequest,a=e.movieList;return Object(r.useEffect)((function(){t("https://api.themoviedb.org/3/movie/top_rated?api_key=26e53c79e6035b58b0922736b9a96231&language=en-US&page=1")}),[t]),Object(l.jsxs)("div",{className:A.a.container,children:[Object(l.jsx)("h3",{children:"Top Rated"}),a.length>0&&Object(l.jsx)(I,{movieList:a})]})},B=a(7),G=a.n(B),J=function(e){return Object(l.jsx)("div",{className:G.a.backdrop,onClick:e.onClose})},V=function(e){var t=Object(r.useContext)(E),a=function(){var e=Object(r.useState)([]),t=Object(v.a)(e,2),a=t[0],n=t[1];return{genreList:a,sendRequest:Object(r.useCallback)(function(){var e=Object(S.a)(N.a.mark((function e(t){var a,r,i,c,o,s,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if((a=e.sent).ok){e.next=6;break}throw new Error("Request failed!");case 6:return e.next=8,a.json();case 8:r=e.sent,i=r.genres,c=[],o=Object(y.a)(i);try{for(o.s();!(s=o.n()).done;)l=s.value,c.push(l)}catch(u){o.e(u)}finally{o.f()}n(c),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),[])}}(),n=a.genreList,i=a.sendRequest;Object(r.useEffect)((function(){i("https://api.themoviedb.org/3/genre/movie/list?api_key=26e53c79e6035b58b0922736b9a96231&language=en-US")}),[i]);var c=[];return t.genre.forEach((function(e){var t=n.find((function(t){return t.id===e}));t&&c.push(t)})),Object(l.jsxs)("div",{className:G.a.container,children:[Object(l.jsx)("span",{onClick:t.closeModalHandler,children:"\u2716"}),Object(l.jsx)("img",{src:t.imageUrl,alt:"Movie Backdrop"}),Object(l.jsxs)("div",{className:G.a.middle,children:[Object(l.jsx)("h3",{children:t.title}),Object(l.jsxs)("div",{className:G.a.detail+" "+G.a.top,children:[Object(l.jsxs)("h4",{className:G.a.ml,children:["Genre :","  ",c.length>0&&c.map((function(e,t){return e.name+"".concat(c.length-1!==t?", ":"")}))]}),Object(l.jsxs)("h4",{className:G.a.mr,children:["Release : ","  "+t.release]})]}),Object(l.jsxs)("div",{className:G.a.detail+" "+G.a.top,children:[Object(l.jsx)("h4",{className:G.a.ml,children:"Average"}),Object(l.jsxs)("h4",{className:G.a.mr,children:[t.average+" "," (",t.averageCount," votes)"]})]}),Object(l.jsx)("p",{className:G.a.sinopsis,children:t.overview})]})]})},Y=document.getElementById("overlays"),z=function(){return Object(l.jsxs)(r.Fragment,{children:[c.a.createPortal(Object(l.jsx)(J,{}),Y),c.a.createPortal(Object(l.jsx)(V,{}),Y)]})},K=function(){var e=Object(r.useContext)(E);return Object(l.jsxs)(r.Fragment,{children:[Object(l.jsx)(u,{}),Object(l.jsx)(U,{}),Object(l.jsx)(q,{}),e.isOpen&&Object(l.jsx)(z,{})]})};var Q=function(){return Object(l.jsx)(o.a,{children:Object(l.jsxs)(s.c,{children:[Object(l.jsx)(s.a,{path:"/",exact:!0,children:Object(l.jsx)(K,{})}),Object(l.jsx)(s.a,{path:"/favourite",children:Object(l.jsx)(C,{})})]})})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,67)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),i(e),c(e)}))},X={isOpen:!1,imageUrl:"",title:"",overview:"",average:0,averageCount:0,release:0,id:0,genre:[]},Z=function(e,t){return"OPEN_MODAL"===t.type?{imageUrl:t.imageUrl,title:t.title,overview:t.overview,average:t.average,averageCount:t.averageCount,release:t.release,genre:t.genre,isOpen:!0}:(t.type,X)},$=function(e){var t=Object(r.useReducer)(Z,X),a=Object(v.a)(t,2),n=a[0],i=a[1],c={isOpen:n.isOpen,imageUrl:n.imageUrl,title:n.title,overview:n.overview,average:n.average,averageCount:n.averageCount,release:n.release,genre:n.genre,id:n.id,openModalHandler:function(e){i({type:"OPEN_MODAL",imageUrl:e.imageUrl,title:e.title,overview:e.overview,average:e.average,averageCount:e.averageCount,release:e.release,genre:e.genre,id:e.id})},closeModalHandler:function(){i({type:"CLOSE_MODAL"})}};return Object(l.jsx)(E.Provider,{value:c,children:e.children})},ee=Object(g.a)({reducer:{favourite:h.reducer}});c.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)($,{children:Object(l.jsx)(d.a,{store:ee,children:Object(l.jsx)(Q,{})})})}),document.getElementById("root")),W()},7:function(e,t,a){e.exports={container:"DetailModal_container__2tjCK",backdrop:"DetailModal_backdrop__eGAJo",middle:"DetailModal_middle__RoYoB",detail:"DetailModal_detail__2p7T1",sinopsis:"DetailModal_sinopsis__2eaHD",top:"DetailModal_top__3kVh2",mr:"DetailModal_mr__1IiTf",ml:"DetailModal_ml__3VVcC"}}},[[66,1,2]]]);
//# sourceMappingURL=main.5b876296.chunk.js.map